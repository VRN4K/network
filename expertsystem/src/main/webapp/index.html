<html>
<head>
    <meta charset="utf-8">
    <title>expert system</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
<nav class="navbar navbar-expand navbar-dark bg-dark">
    <a class="navbar-brand" href="index.html">EXPERT SYSTEM</a>
    <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
            <a class="nav-link" href="index.html">Заглавная</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="templates/addpc.html">Пополнить базу</a>
        </li>
    </ul>
</nav>

<div class="container col-md-7 mb-2">
    <div id="0" class="hidden">
        <h4  class="mb-3">Введите диапазон приемлемой для вас цены.</h4>
        <div class="col-md-6 mb-3">
            <label for="pc_price_start">От</label>
            <input type="text" class="form-control" id="pc_price_start" placeholder="" value="">
        </div>
        <div class="col-md-6 mb-3">
            <label for="pc_price_end">До</label>
            <input type="text" class="form-control" id="pc_price_end" placeholder="" value="">
        </div>
        <button type="button" onclick="sendChoice(''+ pc_price_start.value + '-' + pc_price_end.value)"
                class="btn btn-dark col-md-2 mb-4">Подтвердить</button>
    </div>
    <div id="1" class="hidden">
        <h4  class="mb-3">Какое семейство процессоров вы предпочитаете?</h4>
        <select class="custom-select d-block w-100" id="cpu_family" required="">
            <option value="">Выбор...</option>
            <option>Intel Core i3</option>
            <option>Intel Core i5</option>
            <option>Intel Core i7</option>
            <option>Intel Core i9</option>
            <option>AMD Ryzen 3</option>
            <option>AMD Ryzen 5</option>
            <option>AMD Ryzen 7</option>
        </select>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-4 mb-8">Не знаю</button>
        <button type="button" onclick="sendChoice(''+cpu_family.value)" class="btn btn-dark col-md-4 mb-8">Подтвердить выбор</button>
    </div>
    <div id="2" class="hidden">
        <h4  class="mb-3">Какой форм-фактор корпуса вы хотите для вашего будущего ПК ?</h4>
        <button type="button" onclick="sendChoice('Micro-Tower')" class="btn btn-dark col-md-2 mb-4">Micro-Tower</button>
        <button type="button" onclick="sendChoice('Midi-Tower')" class="btn btn-dark col-md-2 mb-4">Midi-Tower</button>
        <button type="button" onclick="sendChoice('Mini-Tower')" class="btn btn-dark col-md-2 mb-4">Mini-Tower</button>
        <button type="button" onclick="sendChoice('Slim')" class="btn btn-dark col-md-2 mb-4">Slim</button>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-2 mb-4">Не знаю</button>
    </div>
    <div id="3" class="hidden">
        <h4  class="mb-3">Введите предпочитаемый объем SSD диска.</h4>
        <div class="col-md-6 mb-3">
            <label for="ssd_start">От</label>
            <input type="text" class="form-control" id="ssd_start" placeholder="" value="">
        </div>
        <div class="col-md-6 mb-3">
            <label for="ssd_end">До</label>
            <input type="text" class="form-control" id="ssd_end" placeholder="" value="">
        </div>
        <button type="button" onclick="sendChoice(''+ ssd_start.value + '-' + ssd_end.value)"
                class="btn btn-dark col-md-2 mb-4">Подтвердить</button>
    </div>
    <div id="4" class="hidden">
        <h4  class="mb-3">Какая ОС требуется вам для работы?</h4>
        <button type="button" onclick="sendChoice('Windows')" class="btn btn-dark col-md-2 mb-4">Windows</button>
        <button type="button" onclick="sendChoice('Linux')" class="btn btn-dark col-md-2 mb-4">Linux</button>
        <button type="button" onclick="sendChoice('Без ОС')" class="btn btn-dark col-md-2 mb-4">Без ОС</button>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-2 mb-4">Не знаю</button>
    </div>
    <div id="5" class="hidden">
        <h4  class="mb-3">Какую модель дискретной карты вы предпочитаете?</h4>
        <select class="custom-select d-block w-100" id="gpu_fabricator" required="">
            <option value="">Выбор...</option>
            <option>Nvidia GeForce RTX 2080 SUPER</option>
            <option>Nvidia GeForce RTX 2070 SUPER</option>
            <option>Nvidia GeForce RTX 2060 SUPER</option>
            <option>Nvidia GeForce GTX 1660 SUPER</option>
            <option>Nvidia GeForce GTX 1660</option>
            <option>Nvidia GeForce GTX 1650</option>
            <option>Отсутствует</option>
        </select>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-4 mb-8">Не знаю</button>
        <button type="button" onclick="sendChoice(''+gpu_fabricator.value)" class="btn btn-dark col-md-4 mb-8">Подтвердить выбор</button>
    </div>
    <div id="6" class="hidden">
        <h4  class="mb-3">Какое количество ядер процессора необходимо для работы?</h4>
        <button type="button" onclick="sendChoice('2')" class="btn btn-dark col-md-2 mb-4">2</button>
        <button type="button" onclick="sendChoice('4')" class="btn btn-dark col-md-2 mb-4">4</button>
        <button type="button" onclick="sendChoice('6')" class="btn btn-dark col-md-2 mb-4">6</button>
        <button type="button" onclick="sendChoice('8')" class="btn btn-dark col-md-2 mb-4">8</button>
        <button type="button" onclick="sendChoice('10')" class="btn btn-dark col-md-2 mb-4">10</button>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-2 mb-4">Не знаю</button>
    </div>
    <div id="7" class="hidden">
        <h4  class="mb-3">Какому производителю вы доверяете?</h4>
        <button type="button" onclick="sendChoice('Acer')" class="btn btn-dark col-md-2 mb-4">Acer</button>
        <button type="button" onclick="sendChoice('ASUS')" class="btn btn-dark col-md-2 mb-4">ASUS</button>
        <button type="button" onclick="sendChoice('Dell')" class="btn btn-dark col-md-2 mb-4">Dell</button>
        <button type="button" onclick="sendChoice('DEXP')" class="btn btn-dark col-md-2 mb-4">DEXP</button>
        <button type="button" onclick="sendChoice('HP')" class="btn btn-dark col-md-2 mb-4">HP</button>
        <button type="button" onclick="sendChoice('Lenovo')" class="btn btn-dark col-md-2 mb-4">Lenovo</button>
        <button type="button" onclick="sendChoice('MSI')" class="btn btn-dark col-md-2 mb-4">MSI</button>
        <button type="button" onclick="sendChoice('ZET GAMING')" class="btn btn-dark col-md-2 mb-4">ZET GAMING</button>
        <button type="button" onclick="sendChoice('Alienware')" class="btn btn-dark col-md-2 mb-4">Alienware</button>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-2 mb-4">Не знаю</button>
    </div>
    <div id="8">
        <h4  class="mb-3">Вы ищите игровой ПК?</h4>
        <button type="button" onclick="sendChoice('Игровые')" class="btn btn-dark col-md-2 mb-4">Да</button>
        <button type="button" onclick="sendChoice('Личное использование')" class="btn btn-dark col-md-2 mb-4">Нет</button>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-2 mb-4">Не знаю</button>
    </div>
    <div id="9" class="hidden">
        <h4  class="mb-3">Какой размер оперативной памяти требуется для работы?</h4>
        <button type="button" onclick="sendChoice('4')" class="btn btn-dark col-md-2 mb-4">4</button>
        <button type="button" onclick="sendChoice('8')" class="btn btn-dark col-md-2 mb-4">8</button>
        <button type="button" onclick="sendChoice('16')" class="btn btn-dark col-md-2 mb-4">16</button>
        <button type="button" onclick="sendChoice('32')" class="btn btn-dark col-md-2 mb-4">32</button>
        <button type="button" onclick="sendChoice('none')" class="btn btn-dark col-md-2 mb-4">Не знаю</button>
    </div>
</div>
<script>
let counter=0;
let array=[];

function sendChoice(choice){
    array[counter]=choice;
    document.getElementById(""+ counter).classList.add("hidden");
    counter++;
    document.getElementById(""+ counter).classList.remove("hidden");
    if (counter == 9){
        send();
    }
}

function send(){
    var myRequest = new XMLHttpRequest();
    myRequest.open('GET', 'http://localhost:8081/expertsystem_war_exploded/Servlet');
    var json = '';
    myRequest.onreadystatechange = function () {
        if (myRequest.readyState != 4) return;
        if (myRequest.status != 200) {
            alert(myRequest.status + ': ' + myRequest.statusText);
        };
    }
    json = {
        'pc_price': array[0],
        'cpu_family': array[1],
        'form_factor': array[2],
        'ssd_size': array[3],
        'pc_os': array[4],
        'gpu_fabricator': array[5],
        'core_amount': array[6],
        'pc_fabricator': array[7],
        'purpose': array[8],
        'ram_size': array[9]
    };
    myRequest.send(JSON.stringify(json));
}

</script>
<!-- FOR BOOTSTRAP -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>
</body>
</html>
